!function(t){function r(r){for(var e,l,c=r[0],i=r[1],s=r[2],u=0,d=[];u<c.length;u++)l=c[u],n[l]&&d.push(n[l][0]),n[l]=0;for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);for(p&&p(r);d.length;)d.shift()();return o.push.apply(o,s||[]),a()}function a(){for(var t,r=0;r<o.length;r++){for(var a=o[r],e=!0,c=1;c<a.length;c++){var i=a[c];0!==n[i]&&(e=!1)}e&&(o.splice(r--,1),t=l(l.s=a[0]))}return t}var e={},n={17:0},o=[];function l(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=t,l.c=e,l.d=function(t,r,a){l.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:a})},l.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,r){if(1&r&&(t=l(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var e in t)l.d(a,e,function(r){return t[r]}.bind(null,e));return a},l.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(r,"a",r),r},l.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},l.p="";var c=window.webpackJsonp=window.webpackJsonp||[],i=c.push.bind(c);c.push=r,c=c.slice();for(var s=0;s<c.length;s++)r(c[s]);var p=i;o.push([34,0]),a()}({34:function(t,r,a){"use strict";a.r(r);var e=a(0),n=(a(3),500),o=300,l=e.q().translate([0,0]),c=e.s().projection(l),i=e.C().range(["rgb(237,248,233)","rgb(186,228,179)","rgb(116,196,118)","rgb(49,163,84)","rgb(0,109,44)"]),s=e.p(","),p=e.p(".3"),u=e.G("body").append("svg").attr("width",n).attr("height",o),d=e.N().scaleExtent([.2,2]).translateExtent([[-1200,-700],[1200,700]]).on("zoom",function(t){var r=[e.k.transform.x,e.k.transform.y],a=2e3*e.k.transform.k;l.translate(r).scale(a),u.selectAll("path").attr("d",c),u.selectAll("circle").attr("cx",function(t){return l([t.lon,t.lat])[0]}).attr("cy",function(t){return l([t.lon,t.lat])[1]}),u.selectAll(".label").attr("x",function(t){return c.centroid(t)[0]}).attr("y",function(t){return c.centroid(t)[1]})}),f=l([-97,39]),h=u.append("g").attr("id","map").call(d).call(d.transform,e.O.translate(250,150).scale(.25).translate(-f[0],-f[1]));h.append("rect").attr("x",0).attr("y",0).attr("width",n).attr("height",o).attr("opacity",0),e.g("data/us-ag-productivity.csv").then(function(t){i.domain([e.w(t,function(t){return t.value}),e.v(t,function(t){return t.value})]),e.t("data/us-states.json").then(function(r){for(var a=0;a<t.length;a++)for(var n=t[a].state,o=parseFloat(t[a].value),u=0;u<r.features.length;u++){if(n==r.features[u].properties.name){r.features[u].properties.value=o;break}}h.selectAll("path").data(r.features).enter().append("path").attr("d",c).style("fill",function(t){var r=t.properties.value;return r?i(r):"#ccc"}),h.selectAll("text").data(r.features).enter().append("text").attr("class","label").attr("x",function(t){return c.centroid(t)[0]}).attr("y",function(t){return c.centroid(t)[1]}).text(function(t){if(t.properties.value)return p(t.properties.value)}),e.g("data/us-cities.csv").then(function(t){h.selectAll("circle").data(t).enter().append("circle").attr("cx",function(t){return l([t.lon,t.lat])[0]}).attr("cy",function(t){return l([t.lon,t.lat])[1]}).attr("r",function(t){return Math.sqrt(4e-5*parseInt(t.population))}).style("fill","yellow").style("stroke","gray").style("stroke-width",.25).style("opacity",.75).append("title").text(function(t){return"".concat(t.place,": Pop. ").concat(s(t.population))}),y(),v()})})});var y=function(){var t=u.append("g").attr("class","pan").attr("id","north");t.append("rect").attr("x",0).attr("y",0).attr("width",n).attr("height",30),t.append("text").attr("x",250).attr("y",20).html("&uarr;");var r=u.append("g").attr("class","pan").attr("id","south");r.append("rect").attr("x",0).attr("y",270).attr("width",n).attr("height",30),r.append("text").attr("x",250).attr("y",290).html("&darr;");var a=u.append("g").attr("class","pan").attr("id","west");a.append("rect").attr("x",0).attr("y",30).attr("width",30).attr("height",240),a.append("text").attr("x",15).attr("y",150).html("&larr;");var o=u.append("g").attr("class","pan").attr("id","east");o.append("rect").attr("x",470).attr("y",30).attr("width",30).attr("height",240),o.append("text").attr("x",485).attr("y",150).html("&rarr;"),e.H(".pan").on("click",function(){var t=0,r=0;switch(e.G(this).attr("id")){case"north":r+=50;break;case"south":r-=50;break;case"west":t+=50;break;case"east":t-=50}h.transition().call(d.translateBy,t,r)})},v=function(){var t=u.append("g").attr("class","zoom").attr("id","in").attr("transform","translate(390,230)");t.append("rect").attr("x",0).attr("y",0).attr("width",30).attr("height",30),t.append("text").attr("x",15).attr("y",20).text("+");var r=u.append("g").attr("class","zoom").attr("id","out").attr("transform","translate(430,230)");r.append("rect").attr("x",0).attr("y",0).attr("width",30).attr("height",30),r.append("text").attr("x",15).attr("y",20).html("&ndash;"),e.H(".zoom").on("click",function(){var t;switch(e.G(this).attr("id")){case"in":t=1.5;break;case"out":t=.75}h.transition().call(d.scaleBy,t)})};e.G("#pnw").on("click",function(){h.transition().call(d.transform,e.O.translate(250,150).scale(.9).translate(600,300))}),e.G("#reset").on("click",function(){h.transition().call(d.transform,e.O.translate(250,150).scale(.25).translate(-f[0],-f[1]))})}});
//# sourceMappingURL=us_map.bundle.js.map