!function(t){function r(r){for(var a,l,c=r[0],i=r[1],s=r[2],u=0,d=[];u<c.length;u++)l=c[u],n[l]&&d.push(n[l][0]),n[l]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);for(p&&p(r);d.length;)d.shift()();return o.push.apply(o,s||[]),e()}function e(){for(var t,r=0;r<o.length;r++){for(var e=o[r],a=!0,c=1;c<e.length;c++){var i=e[c];0!==n[i]&&(a=!1)}a&&(o.splice(r--,1),t=l(l.s=e[0]))}return t}var a={},n={17:0},o=[];function l(r){if(a[r])return a[r].exports;var e=a[r]={i:r,l:!1,exports:{}};return t[r].call(e.exports,e,e.exports,l),e.l=!0,e.exports}l.m=t,l.c=a,l.d=function(t,r,e){l.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},l.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,r){if(1&r&&(t=l(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(l.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var a in t)l.d(e,a,function(r){return t[r]}.bind(null,a));return e},l.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(r,"a",r),r},l.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},l.p="";var c=window.webpackJsonp=window.webpackJsonp||[],i=c.push.bind(c);c.push=r,c=c.slice();for(var s=0;s<c.length;s++)r(c[s]);var p=i;o.push([34,0]),e()}({34:function(t,r,e){"use strict";var a=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r.default=t,r}(e(0));e(3);var n=500,o=300,l=a.geoAlbersUsa().translate([0,0]),c=a.geoPath().projection(l),i=a.scaleQuantize().range(["rgb(237,248,233)","rgb(186,228,179)","rgb(116,196,118)","rgb(49,163,84)","rgb(0,109,44)"]),s=a.format(","),p=a.format(".3"),u=a.select("body").append("svg").attr("width",n).attr("height",o),d=a.zoom().scaleExtent([.2,2]).translateExtent([[-1200,-700],[1200,700]]).on("zoom",function(t){var r=[a.event.transform.x,a.event.transform.y],e=2e3*a.event.transform.k;l.translate(r).scale(e),u.selectAll("path").attr("d",c),u.selectAll("circle").attr("cx",function(t){return l([t.lon,t.lat])[0]}).attr("cy",function(t){return l([t.lon,t.lat])[1]}),u.selectAll(".label").attr("x",function(t){return c.centroid(t)[0]}).attr("y",function(t){return c.centroid(t)[1]})}),f=l([-97,39]),h=u.append("g").attr("id","map").call(d).call(d.transform,a.zoomIdentity.translate(250,150).scale(.25).translate(-f[0],-f[1]));h.append("rect").attr("x",0).attr("y",0).attr("width",n).attr("height",o).attr("opacity",0),a.csv("data/us-ag-productivity.csv").then(function(t){i.domain([a.min(t,function(t){return t.value}),a.max(t,function(t){return t.value})]),a.json("data/us-states.json").then(function(r){for(var e=0;e<t.length;e++)for(var n=t[e].state,o=parseFloat(t[e].value),u=0;u<r.features.length;u++){if(n==r.features[u].properties.name){r.features[u].properties.value=o;break}}h.selectAll("path").data(r.features).enter().append("path").attr("d",c).style("fill",function(t){var r=t.properties.value;return r?i(r):"#ccc"}),h.selectAll("text").data(r.features).enter().append("text").attr("class","label").attr("x",function(t){return c.centroid(t)[0]}).attr("y",function(t){return c.centroid(t)[1]}).text(function(t){if(t.properties.value)return p(t.properties.value)}),a.csv("data/us-cities.csv").then(function(t){h.selectAll("circle").data(t).enter().append("circle").attr("cx",function(t){return l([t.lon,t.lat])[0]}).attr("cy",function(t){return l([t.lon,t.lat])[1]}).attr("r",function(t){return Math.sqrt(4e-5*parseInt(t.population))}).style("fill","yellow").style("stroke","gray").style("stroke-width",.25).style("opacity",.75).append("title").text(function(t){return t.place+": Pop. "+s(t.population)}),y(),v()})})});var y=function(){var t=u.append("g").attr("class","pan").attr("id","north");t.append("rect").attr("x",0).attr("y",0).attr("width",n).attr("height",30),t.append("text").attr("x",250).attr("y",20).html("&uarr;");var r=u.append("g").attr("class","pan").attr("id","south");r.append("rect").attr("x",0).attr("y",270).attr("width",n).attr("height",30),r.append("text").attr("x",250).attr("y",290).html("&darr;");var e=u.append("g").attr("class","pan").attr("id","west");e.append("rect").attr("x",0).attr("y",30).attr("width",30).attr("height",240),e.append("text").attr("x",15).attr("y",150).html("&larr;");var o=u.append("g").attr("class","pan").attr("id","east");o.append("rect").attr("x",470).attr("y",30).attr("width",30).attr("height",240),o.append("text").attr("x",485).attr("y",150).html("&rarr;"),a.selectAll(".pan").on("click",function(){var t=0,r=0;switch(a.select(this).attr("id")){case"north":r+=50;break;case"south":r-=50;break;case"west":t+=50;break;case"east":t-=50}h.transition().call(d.translateBy,t,r)})},v=function(){var t=u.append("g").attr("class","zoom").attr("id","in").attr("transform","translate(390,230)");t.append("rect").attr("x",0).attr("y",0).attr("width",30).attr("height",30),t.append("text").attr("x",15).attr("y",20).text("+");var r=u.append("g").attr("class","zoom").attr("id","out").attr("transform","translate(430,230)");r.append("rect").attr("x",0).attr("y",0).attr("width",30).attr("height",30),r.append("text").attr("x",15).attr("y",20).html("&ndash;"),a.selectAll(".zoom").on("click",function(){var t=void 0;switch(a.select(this).attr("id")){case"in":t=1.5;break;case"out":t=.75}h.transition().call(d.scaleBy,t)})};a.select("#pnw").on("click",function(){h.transition().call(d.transform,a.zoomIdentity.translate(250,150).scale(.9).translate(600,300))}),a.select("#reset").on("click",function(){h.transition().call(d.transform,a.zoomIdentity.translate(250,150).scale(.25).translate(-f[0],-f[1]))})}});
//# sourceMappingURL=us_map.bundle.js.map